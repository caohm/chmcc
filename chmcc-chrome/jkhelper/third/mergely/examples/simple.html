<!--
This example demonstrates the minimum amount of code required to use Mergely.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Mergely - Simple Example</title>
    <meta http-equiv="X-UA-Compatible" content="chrome=1, IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="description" content="Merge and Diff your documents with diff online and share"/>
    <meta name="keywords"
          content="diff,merge,compare,jsdiff,comparison,difference,file,text,unix,patch,algorithm,saas,longest common subsequence"/>
    <meta name="author" content="Jamie Peabody"/>

    <!-- Requires jQuery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>

    <!-- Requires CodeMirror -->
    <script type="text/javascript" src="../lib/codemirror.js"></script>
    <link type="text/css" rel="stylesheet" href="../lib/codemirror.css"/>

    <!-- Requires Mergely -->
    <script type="text/javascript" src="../lib/mergely.js"></script>
    <link type="text/css" rel="stylesheet" href="../lib/mergely.css"/>

    <script type="text/javascript">

        $(document).ready(function () {
//			$('#compare').mergely({
//				cmsettings: { readOnly: false },
//				lhs: function(setValue) {
//					setValue('the quick red fox\njumped over the hairy dog');
//				},
//				rhs: function(setValue) {
//					setValue('the quick brown fox\njumped over the lazy dog');
//				}
//			});
            $('#compare').mergely({
                linewrapping: true, _debug: '',
                editor_height: function (h) {
                    return h - 120;
                }, editor_width: "48%",
                cmsettings: {readOnly: false, mode: 'text/plain'}
            });
            loadDiff("UTF-8");
            function loadDiff(encoding) {
                $.ajax({
                    url: "http://deploy.jd.com/6274/config/view-8584298",
                    data: {
                        type: "group",
                        reType: "download",
                        filePath: "WEB-INF/classes/spring/order-other.xml.20161016-010144096.bak",
                        encoding: encoding,
                        history: true
                    },
                    type: "post", dataType: "text", success: function (txt) {
                        $('#compare').mergely('lhs', txt);
                    }
                });
                $.ajax({
                    url: "http://deploy.jd.com/6274/config/view-8584298",
                    data: {
                        type: "group",
                        reType: "download",
                        filePath: "EB-INF/classes/spring/order-other.xml",
                        encoding: encoding
                    },
                    type: "post", dataType: "text", success: function (txt) {
                        $('#compare').mergely('rhs', txt);
                    }
                });
            }
        });
    </script>
</head>
<body>

<div id="mergely-resizer">
    <div id="compare">
    </div>
</div>

</body>
</html>
